const popups=document.querySelectorAll(".popup");if(popups){const e={ESCAPE:"Escape",ESC:"Esc"},t=t=>t.key===e.ESCAPE||t.key===e.ESC;let o=document.body.clientWidth;popups.forEach((e=>{const s=e.querySelector(".popup__close"),r=()=>{e.classList.remove("popup--open"),document.body.classList.remove("no-scroll"),document.removeEventListener("keydown",l),document.body.style.paddingRight="0"},l=e=>{t(e)&&(e.preventDefault(),r())};s.addEventListener("click",r),o=document.body.clientWidth,e.classList.add("popup--open"),document.body.classList.add("no-scroll"),document.addEventListener("keydown",l),document.body.clientWidth>o&&(document.body.style.paddingRight=document.body.clientWidth-o+"px")}))}const numberFields=document.querySelectorAll(".number-field");if(numberFields){const e=e=>{e.style.width=e.value.length+1+"ch"};numberFields.forEach((t=>{const o=t.querySelector(".number-field__control");t.querySelector(".number-field__button--minus").addEventListener("click",(()=>{o.stepDown(),e(o)})),t.querySelector(".number-field__button--plus").addEventListener("click",(()=>{o.stepUp(),e(o)})),o.addEventListener("input",(()=>{e(o)}))}))}const likeButtons=document.querySelectorAll(".social-button--like");likeButtons&&likeButtons.forEach((e=>{e.addEventListener("click",(()=>{e.classList.toggle("social-button--like-active")}))}));const clipboxes=document.querySelectorAll(".clipbox");if(clipboxes){const e=e=>{e.classList.remove("clipbox--reduced"),e.classList.remove("clipbox--expanded"),e.offsetHeight>parseInt(getComputedStyle(e).getPropertyValue("--max-height"),10)&&e.classList.add("clipbox--reduced")};clipboxes.forEach((t=>{t.querySelector(".clipbox__toggler").addEventListener("click",(()=>{t.classList.toggle("clipbox--reduced"),t.classList.toggle("clipbox--expanded")})),window.addEventListener("resize",(()=>e(t))),e(t)}))}const worksGallerySlider=document.querySelector(".works-gallery__slider");if(worksGallerySlider){new Swiper(".works-gallery__slider",{slidesPerView:"auto",spaceBetween:5,freeMode:!0,navigation:{nextEl:".works-gallery__slider .swiper-button-next",prevEl:".works-gallery__slider .swiper-button-prev"},breakpoints:{768:{spaceBetween:19},1510:{spaceBetween:10}}})}const goodInfoTaber=document.querySelector(".good-info__taber");if(goodInfoTaber){const e=new Swiper(".good-info__tab-buttons-wrapper",{slidesPerView:"auto",freeMode:!0,watchSlidesProgress:!0});new Swiper(".good-info__tabs-wrapper",{spaceBetween:50,effect:"fade",allowTouchMove:!1,fadeEffect:{crossFade:!0},thumbs:{swiper:e}})}const radioselects=document.querySelectorAll(".select-2");radioselects&&radioselects.forEach((e=>{const t=e.querySelector(".select-2__button"),o=e.querySelector(".select-2__radiobutton"),s=e=>{e.target.closest(".select-2")||r()},r=()=>{e.classList.remove("select-2--open"),window.removeEventListener("click",s)};t.addEventListener("click",(()=>{e.classList.contains("select-2--open")?r():(e.classList.add("select-2--open"),o.focus(),window.addEventListener("click",s))}));const l=e.querySelector(".select-2__options"),n=t.querySelector(".select-2__button-value");l.addEventListener("click",(e=>{"select-2__radiobutton-label"===e.target.className&&r()}));e.querySelectorAll(".select-2__radiobutton").forEach((e=>{e.addEventListener("change",(()=>{n.textContent=e.parentNode.querySelector(".select-2__radiobutton-label").textContent}))}))}));const goodQuantityAlterNodes=document.querySelectorAll(".goods-quantity--alter");goodQuantityAlterNodes&&goodQuantityAlterNodes.forEach((e=>{const t=e.querySelector(".goods-quantity__select-button"),o=e.querySelector(".goods-quantity__radiobuttons"),s=o.querySelector(".radiobutton__control"),r=e=>{e.target.closest(".goods-quantity__radiobuttons")||l()},l=()=>{o.classList.remove("goods-quantity__radiobuttons--open"),window.removeEventListener("click",r)};t.addEventListener("click",(()=>{o.classList.contains("goods-quantity__radiobuttons--open")?l():(o.classList.add("goods-quantity__radiobuttons--open"),s.focus(),window.addEventListener("click",r))})),o.addEventListener("click",(e=>{"radiobutton__label"===e.target.className&&l()}));o.querySelectorAll(".radiobutton__control").forEach((e=>{e.addEventListener("change",(()=>{t.textContent=e.parentNode.querySelector(".radiobutton__label").textContent.slice(0,2)}))}))}));const coverCardWrappers=document.querySelectorAll(".s-popular .container");coverCardWrappers&&coverCardWrappers.forEach((e=>{e.querySelectorAll(".card").forEach((t=>{t.addEventListener("mouseover",(()=>{e.style.zIndex=200})),t.addEventListener("mouseout",(()=>{e.style.zIndex="auto"}))}))}));const goodsFilter=document.querySelector(".c-filter");if(goodsFilter){const e=50,t=e=>e.getBoundingClientRect().right-goodsFilter.getBoundingClientRect().right>0,o=e=>{e.style.left="auto"},s=e=>{e.style.left=0};goodsFilter.querySelectorAll(".form-select").forEach((r=>{const l=r.querySelector(".form-select__input"),n=r.querySelector(".form-select__list");l.addEventListener("click",(()=>{l.classList.contains("open")?s(n):setTimeout((()=>{t(n)&&o(n)}),e)}))}))}